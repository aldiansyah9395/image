<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Image Analyzer Pro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Tambahkan file CSS eksternal -->
  <link rel="stylesheet" href="style.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#eef2ff',
              100: '#e0e7ff',
              200: '#c7d2fe',
              300: '#a5b4fc',
              400: '#818cf8',
              500: '#6366f1',
              600: '#4f46e5',
              700: '#4338ca',
              800: '#3730a3',
              900: '#312e81',
            }
          },
          animation: {
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'spin-slow': 'spin 2s linear infinite',
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-50 min-h-screen font-sans">

  <div class="max-w-5xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
    
    <!-- Header -->
    <div class="text-center mb-10">
      <h1 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
        <span class="text-primary-600">AI</span> Image Analyzer Pro
      </h1>
      <p class="mt-3 max-w-2xl mx-auto text-gray-500 sm:mt-4">
        Generate SEO-optimized descriptions and keywords for stock photo platforms
      </p>
    </div>

    <!-- Mode Selector -->
    <div class="mb-6 flex justify-center">
      <div class="inline-flex rounded-md shadow-sm">
        <button id="single-mode-btn" class="px-4 py-2 text-sm font-medium bg-primary-600 text-white rounded-l-md hover:bg-primary-700 focus:z-10 focus:outline-none">
          Single Image
        </button>
        <button id="multi-mode-btn" class="px-4 py-2 text-sm font-medium bg-white text-gray-700 border-t border-b border-r border-gray-300 rounded-r-md hover:bg-gray-50 focus:z-10 focus:outline-none">
          Multiple Images
        </button>
      </div>
    </div>

    <div class="bg-white shadow overflow-hidden rounded-lg divide-y divide-gray-200">
      <!-- Upload Section -->
      <div class="px-4 py-5 sm:p-6">
        <!-- Single Image Mode -->
        <div id="single-mode" class="flex flex-col md:flex-row gap-6">
          
          <!-- Left side: Upload controls -->
          <div class="w-full md:w-1/2">
            <div id="drop-area" class="drop-area flex flex-col items-center justify-center p-6 h-64 cursor-pointer">
              <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
              <p class="text-gray-700 mb-2">Drag and drop your image here</p>
              <p class="text-gray-500 text-sm mb-4">or</p>
              <label for="image" class="px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition cursor-pointer">
                Browse Files
              </label>
              <input type="file" id="image" name="image" accept="image/*" class="hidden" />
            </div>
            
            <div class="mt-6">
              <button id="analyze-btn" class="w-full bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:ring-primary-200 text-white font-medium py-3 px-4 rounded-lg transition flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                <span id="btn-text">Upload & Analyze</span>
                <span id="btn-loader" class="hidden ml-2 loader h-4 w-4 rounded-full border-2 border-t-2"></span>
              </button>
            </div>
          </div>
          
          <!-- Right side: Image preview -->
          <div class="w-full md:w-1/2">
            <div class="border rounded-lg bg-gray-50 h-64 flex items-center justify-center overflow-hidden">
              <div id="preview-placeholder" class="text-center text-gray-400">
                <i class="fas fa-image text-4xl mb-3"></i>
                <p>Image preview will appear here</p>
              </div>
              <img id="image-preview" class="image-preview hidden w-full h-full" src="#" alt="Preview" />
            </div>
            <div class="mt-2 text-sm text-gray-500">
              <span id="file-info"></span>
            </div>
          </div>
        </div>

        <!-- Multiple Images Mode -->
        <div id="multi-mode" class="hidden">
          <div id="multi-drop-area" class="drop-area flex flex-col items-center justify-center p-6 h-64 cursor-pointer">
            <i class="fas fa-images text-4xl text-gray-400 mb-4"></i>
            <p class="text-gray-700 mb-2">Drag and drop multiple images here</p>
            <p class="text-gray-500 text-sm mb-4">or</p>
            <label for="multi-image" class="px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition cursor-pointer">
              Browse Files
            </label>
            <input type="file" id="multi-image" name="multi-image" accept="image/*" multiple class="hidden" />
          </div>
          
          <div id="multi-preview-container" class="mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3">
            <!-- Preview images will be added here -->
          </div>
          
          <div class="mt-6">
            <button id="analyze-multiple-btn" class="w-full bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:ring-primary-200 text-white font-medium py-3 px-4 rounded-lg transition flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed" disabled>
              <span id="multi-btn-text">Upload & Analyze All Images</span>
              <span id="multi-btn-loader" class="hidden ml-2 loader h-4 w-4 rounded-full border-2 border-t-2"></span>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Queue Processing Status Section -->
      <div id="queue-status" class="hidden px-4 py-5 sm:p-6 bg-blue-50">
        <div class="flex items-center">
          <div class="animate-spin-slow mr-3 h-5 w-5 text-primary-600">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </div>
          <div class="flex-1">
            <h3 class="text-sm font-medium text-primary-800" id="queue-status-text">Processing images in queue...</h3>
            <div class="mt-2">
              <div class="bg-blue-100 rounded-full h-2.5">
                <div id="queue-progress-bar" class="bg-primary-600 h-2.5 rounded-full progress-bar" style="width: 10%"></div>
              </div>
              <div class="flex justify-between mt-1">
                <span class="text-xs text-primary-700" id="queue-file-status">Processing file 1 of 5</span>
                <span class="text-xs text-primary-700" id="queue-progress-text">10%</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mt-4 bg-white rounded-lg p-3 overflow-auto max-h-48" id="queue-details">
          <!-- File status details will be shown here -->
          <div class="animate-pulse">
            <div class="h-4 bg-gray-200 rounded w-3/4 mb-2.5"></div>
            <div class="h-4 bg-gray-200 rounded w-1/2 mb-2.5"></div>
            <div class="h-4 bg-gray-200 rounded w-5/6"></div>
          </div>
        </div>
      </div>
      
      <!-- Loading Section -->
      <div id="loading" class="hidden px-4 py-10 sm:p-6 text-center">
        <div class="inline-flex items-center px-4 py-2 rounded-full bg-primary-50 text-primary-700">
          <div class="loader mr-3 h-5 w-5 rounded-full border-2 border-t-2"></div>
          <span>Processing your image(s)...</span>
        </div>
      </div>

      <!-- Results Section - Single Image -->
      <div id="result" class="hidden px-4 py-5 sm:p-6">
        <h3 class="text-lg font-medium text-gray-900 border-b pb-3">Analysis Results</h3>
        
        <div class="mt-4">
          <h4 class="text-sm font-medium text-gray-700 uppercase tracking-wide">Description</h4>
          <div class="mt-2 p-4 bg-gray-50 rounded-md">
            <p id="description" class="text-gray-800"></p>
            <button id="copy-desc" class="mt-3 inline-flex items-center text-sm text-primary-600 hover:text-primary-800">
              <i class="far fa-copy mr-1"></i> Copy
            </button>
          </div>
        </div>
        
        <div class="mt-6">
          <h4 class="text-sm font-medium text-gray-700 uppercase tracking-wide">Keywords</h4>
          <div class="mt-2 p-4 bg-gray-50 rounded-md">
            <div id="keywords-container" class="flex flex-wrap gap-2"></div>
            <button id="copy-keywords" class="mt-3 inline-flex items-center text-sm text-primary-600 hover:text-primary-800">
              <i class="far fa-copy mr-1"></i> Copy All
            </button>
          </div>
        </div>
      </div>
      
      <!-- Results Section - Multiple Images -->
      <div id="multi-results" class="hidden px-4 py-5 sm:p-6">
        <h3 class="text-lg font-medium text-gray-900 border-b pb-3">Analysis Results</h3>
        <!-- Tambahkan tombol export metadata -->
        <div class="mb-4 flex justify-end">
          <button id="export-metadata-btn"
            class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md text-sm flex items-center disabled:opacity-50 disabled:cursor-not-allowed"
            disabled>
            <i class="fas fa-file-export mr-2"></i> Export Metadata
          </button>
        </div>
        <div class="tabs-header mt-4 border-b border-gray-200 overflow-x-auto">
          <div id="image-tabs" class="flex">
            <!-- Tabs will be added here -->
          </div>
        </div>
        
        <div id="tab-contents" class="mt-4">
          <!-- Tab content will be added here -->
        </div>
      </div>
    </div>
    
    <!-- Notification -->
    <div id="notification" class="fixed bottom-4 right-4 p-4 rounded-md bg-green-100 text-green-700 shadow-lg transform translate-y-full transition-transform duration-300 flex items-center z-50">
      <i class="fas fa-check-circle mr-2"></i>
      <span id="notification-text">Copied to clipboard!</span>
    </div>
    
    <footer class="mt-8 text-center text-sm text-gray-500">
      <p>© 2025 AI Image Analyzer Pro | Powered by Gemini 2.0</p>
    </footer>
  </div>

  <!-- Tambahkan file JavaScript eksternal -->
  <script src="bot.js"></script>
</body>
</html>
